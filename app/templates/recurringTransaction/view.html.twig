{% extends 'base.html.twig' %}
{% block title %}View Recurring Transaction | {{ parent() }}{% endblock %}
{% block headerText %}Recurring Transaction{% endblock %}
{% block headerActions %}
    {{ include('_actions.html.twig', {
        actions: {
            delete: 'recurring_transaction_delete',
            edit: 'recurring_transaction_edit',
            index: 'recurring_transaction_index'
        },
        data: recurringTransaction,
    }) }}
{% endblock %}
{% block content %}
    <article class="min-h-full items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
        <section class="w-full max-w-md space-y-8">
            <div class="view-container">
                <div class="px-4 py-5 sm:px-6">
                    <h2 class="font-bold text-2xl">{{ recurringTransaction.name }}</h2>
                </div>
                <div class="view-data-container">
                    <dl>
                        <div>
                            <dt>Category</dt>
                            <dd>
                                <span class="pill ml-1"
                                      style="background-color: {{ recurringTransaction.Category.color }}; color: {{ recurringTransaction.Category.textColor }};"
                                >
                                    {{ recurringTransaction.Category.name }}
                                </span>
                            </dd>
                        </div>
                        <div>
                            <dt>Amount</dt>
                            <dd>{{ recurringTransaction.amount|number_format(2) }}</dd>
                        </div>
                        <div>
                            <dt>Summary</dt>
                            <dd>{{ recurringTransaction.summary }}</dd>
                        </div>
                        <div>
                            <dt>Period</dt>
                            <dd>
                                Each {{ recurringTransaction.periodNum }} {{ recurringTransaction.periodType.value }}</dd>
                        </div>
                        <div>
                            <dt>Start Date</dt>
                            <dd>{{ recurringTransaction.startDate|date(format_date) }}</dd>
                        </div>
                        <div>
                            <dt>End Date</dt>
                            <dd>
                                {% if recurringTransaction.endDate %}
                                    {{ recurringTransaction.endDate|date(format_date) }}
                                {% else %}
                                    Indefinitely
                                {% endif %}
                            </dd>
                        </div>
                    </dl>
                </div>
            </div>
        </section>
    </article>
{% endblock %}
